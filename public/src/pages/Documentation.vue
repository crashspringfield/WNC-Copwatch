<template>
  <div class="container">
    <div class="block heading">
      <h1 class="documentation-heading">Documentation for the Public REST API</h1>
      <div class="row">
        <div class="col">
          <p>
            We make the REST endpoints we use to populate our map application publically available, opening the possibility for others to collect and process the data we've pulled. All endpoints are appended to the base url of <span class="base-url">https://copwatch.avlcommunityaction.com</span>, take GET requests, and return JSON.
          </p>
        </div>
      </div>
    </div>

    <section class="block open-data">
      <h2 class="block-heading">Open Data Traffic Stops</h2>
      <div class="row intro">
        <div class="col">
          <p>
            These endpoints pull from and simplify <a href="http://data.ashevillenc.gov/datasets/apd-traffic-stops-after-oct-1-2017" target="_blank" rel="nofollow" referrerpolicy="no-referrer">Asheville's open data API</a> on traffic stops since October 2017. For a better understanding of the data, you can refer to their page.
          </p>
        </div>
      </div>
      <app-endpoint
        v-for="(endpoint, index) in traffic_stops"
        :key="index"
        v-bind:endpoint="endpoint"></app-endpoint>
    </section>

    <section class="block open-data">
      <h2 class="block-heading">Open Data Incidents</h2>
      <div class="row intro">
        <div class="col">
          <p>
            These endpoints pull from and simplify <a href="https://data-avl.opendata.arcgis.com/datasets/apd-crime-locations" target="_blank" rel="nofollow" referrerpolicy="no-referrer">Asheville's open data API</a> on "crime" since the beginning of 2005. For a better understanding of the data, you can refer to their page.
          </p>
        </div>
      </div>
      <app-endpoint
        v-for="(endpoint, index) in incidents"
        :key="index"
        v-bind:endpoint="endpoint"></app-endpoint>
    </section>

    <section class="block open-data">
      <h2 class="block-heading">Open Data Complaints</h2>
      <div class="row intro">
        <div class="col">
          <p>
            These endpoints pull from and simplify <a href="https://data-avl.opendata.arcgis.com/datasets/apd-citizen-complaints" target="_blank" rel="nofollow" referrerpolicy="no-referrer">Asheville's open data API</a> on complaints since the beginning of 2018. For a better understanding of the data, you can refer to their page.
          </p>
        </div>
      </div>
      <app-endpoint
        v-for="(endpoint, index) in complaints"
        :key="index"
        v-bind:endpoint="endpoint"></app-endpoint>
    </section>

    <section class="block open-data">
      <h2 class="block-heading">Open Data Use of Force</h2>
      <div class="row intro">
        <div class="col">
          <p>
            These endpoints pull from and simplify <a href="https://data-avl.opendata.arcgis.com/datasets/7bc4d78e6bc64f2c9ca02fb2486aad0f_0" target="_blank" rel="nofollow" referrerpolicy="no-referrer">Asheville's open data API</a> on use of force since the beginning of 2018. For a better understanding of the data, you can refer to their page.
          </p>
        </div>
      </div>
      <app-endpoint
        v-for="(endpoint, index) in use_of_force"
        :key="index"
        v-bind:endpoint="endpoint"></app-endpoint>
    </section>

    <section class="block bulletins">
      <h2 class="block-heading">Daily Bulletin Reports</h2>
      <div class="row intro">
        <div class="col">
          <p>
            These endpoints pull from our database of processed <a href="https://apdp2c.buncombecounty.org/dailybulletin.aspx" target="_blank" rel="nofollow" referrerpolicy="no-referrer" >daily bulletins</a> from APD. Older ones may also include data from Buncombe County's sheriff's office. We do not collect reports labeled "incident" or "traffic accident".
          </p>
        </div>
      </div>
      <app-endpoint
        v-for="(endpoint, index) in bulletins"
        :key="index"
        v-bind:endpoint="endpoint"></app-endpoint>
    </section>
  </div>
</template>

<script>
  /**
   * Endpoint information is stored in '../data/endponts.js'
   */
  import { Endpoint } from '../components'
  import { bulletins, complaints, incidents, traffic_stops, use_of_force } from '../data/endpoints'

  export default {
    components: {
      appEndpoint: Endpoint
    },
    data() {
      return {
        bulletins,
        complaints,
        incidents,
        traffic_stops,
        use_of_force
      }
    }
  }

</script>

<style lang="scss" scoped>

  a {
    color: #863ddc;

    &:hover {
      color: #5f00ba;
      cursor: pointer;
    }
  }

  .base-url {
    font-weight: 600;
  }

  .documentation-heading {
    text-align: center;
    margin-bottom: 64px;
    margin-top: 32px;
  }

  .block {
    margin-bottom: 72px;
  }

  .block-heading {
    text-align: center;
  }

  .intro {
    margin-bottom: 24px;
  }

</style>
